<script
  src="https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js"
  integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI="
  crossorigin="anonymous"
></script>
<h3>Interactive Graph</h3>
<div id="graph-outer-layer">
  <script>
    function openFullScreen() {
      const elem = document.getElementById("graph-container")
      elem.classList.add("full-screen")

      //  debugger

      //const { width, height } = elem.getBoundingClientRect()
      //window.height

      const scale = 1
      const width = screen.width
      const height = screen.height
      const svg = d3
        .select("#graph-container")
        .selectAll("svg")
        .attr("width", width)
        .attr("height", height)
        .attr("viewBox", [
          ((-width / 2) * 1) / scale,
          ((-height / 2) * 1) / scale,
          (width * 1) / scale,
          (height * 1) / scale,
        ])
    }
    function closeFullScreen() {
      const elem = document.getElementById("graph-container")
      elem.classList.remove("full-screen")

      const scale = 1
      const height = 500
      const width = 500
      const svg = d3
        .select("#graph-container")
        .selectAll("svg")
        .attr("width", width)
        .attr("height", height)
        .attr("viewBox", [
          ((-width / 2) * 1) / scale,
          ((-height / 2) * 1) / scale,
          (width * 1) / scale,
          (height * 1) / scale,
        ])
    }
  </script>
  <button id="graph-button-open" onclick="openFullScreen()">ðŸ”Ž</button>
  <button id="graph-button-close" onclick="closeFullScreen()">ðŸ”Ž</button>
  <div id="graph-container"></div>
</div>

<style>
  :root {
    --g-node: var(--secondary);
    --g-node-active: var(--primary);
    --g-node-inactive: var(--visited);
    --g-link: var(--outlinegray);
    --g-link-active: #5a7282;
  }
</style>
{{ $js := resources.Get "js/graph.js" | resources.Fingerprint "md5" }}
<script src="{{ $js.Permalink }}"></script>
